<ion-view view-title="Bridge Crossings">
  <ion-content>
    <ion-refresher
          pulling-text="Pull to refresh..."
          on-refresh="doRefresh()">
    </ion-refresher>
    <span class="item item-input">
      <i class="icon ion-search placeholder-icon"></i>
      <input type="search" placeholder="Search" ng-model="searchByName">
    </span>
    <div class="list card" ng-repeat="bridge in bridges | filter:searchByName">


      <div class="item item-avatar">
          <a href="#/app/bridge/{{ bridge._id }}">
            <h2>{{ bridge.location }}</h2>
            <h4>{{ bridge.customsOffice }}</h4>
            <p>{{ bridge.lastUpdated }}</p>
          </a>
      </div>

      <div class="item item-body">
        <!--<img class="full-image" src="http://lorempixel.com/400/200/">-->
        <div class="leftCol">
            <h2>To Canada</h2>
            <p>Traveller Flow: {{ bridge.canTravellersFlow }}</p>
            <p>Commercial Flow: {{ bridge.canCommercialFlow }}</p>
        </div>
        <div class="rightCol">
            <h2>To United States</h2>
            <p>Traveller Flow: {{ bridge.usTravellersFlow }}</p>
            <p>Commercial Flow: {{ bridge.usCommercialFlow }}</p>
        </div>
        <p>
          <a href="#" class="subdued">{{ numLikes(bridge) }} Approval</a>
          <a href="#" class="subdued">{{ bridge.correctionsCanCommercialFlow.length + bridge.correctionsCanTravellersFlow.length + bridge.correctionsUsCommercialFlow.length + bridge.correctionsUsCommercialFlow.length }} Corrections</a>
        </p>
      </div>

      <div class="item tabs tabs-secondary tabs-icon-left">
        <a class="tab-item" href="#" ng-click="like(bridge); bridge.likes = bridge.likes + 1">
          <i class="icon ion-thumbsup"></i>
          Approve
        </a>
        <a class="tab-item" href="#" ng-click="correctionModal(bridge)">
          <i class="icon ion-chatbox"></i>
          Correct
        </a>
      </div>

    </div>
  </ion-content>
</ion-view>
